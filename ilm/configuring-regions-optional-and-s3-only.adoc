---
permalink: ilm/configuring-regions-optional-and-s3-only.html 
sidebar: sidebar 
keywords: S3 regions, region, ilm rules 
summary: Le regole ILM possono filtrare gli oggetti in base alle regioni facoltative in cui vengono creati i bucket S3, consentendo di archiviare oggetti da regioni diverse in posizioni di archiviazione diverse. 
---
= Configurare le regioni S3 per StorageGRID
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
Le regole ILM possono filtrare gli oggetti in base alle regioni facoltative in cui vengono creati i bucket S3, consentendo di archiviare oggetti da regioni diverse in posizioni di archiviazione diverse.

Se si desidera utilizzare un'area del bucket S3 come filtro in una regola, è necessario innanzitutto creare le regioni che possono essere utilizzate dai bucket nel sistema.


NOTE: Una volta creato il bucket, non è possibile modificare l'area di un bucket.

.Prima di iniziare
* L'utente ha effettuato l'accesso a Grid Manager utilizzando un link:../admin/web-browser-requirements.html["browser web supportato"].
* Si dispone di link:../admin/admin-group-permissions.html["autorizzazioni di accesso specifiche"].


.A proposito di questa attività
Quando si crea un bucket S3, è possibile specificare che il bucket venga creato in un'area specifica. La specifica di una regione consente al bucket di essere geograficamente vicino ai propri utenti, in modo da ottimizzare la latenza, ridurre al minimo i costi e soddisfare i requisiti normativi.

Quando si crea una regola ILM, è possibile utilizzare la regione associata a un bucket S3 come filtro avanzato. Ad esempio, è possibile progettare una regola che si applica solo agli oggetti nei bucket S3 creati nell' `us-west-2`area. È quindi possibile specificare che le copie di tali oggetti vengano collocate sui nodi di storage in un sito del data center all'interno di tale regione per ottimizzare la latenza.

Durante la configurazione delle regioni, attenersi alle seguenti linee guida:

* Per impostazione predefinita, tutti i bucket sono considerati appartenenti alla `us-east-1` regione.
* È necessario creare le regioni utilizzando Grid Manager prima di poter specificare una regione non predefinita quando si creano bucket utilizzando Tenant Manager o Tenant Management API oppure con l'elemento di richiesta LocationConstraint per le richieste S3 PUT Bucket API.  Si verifica un errore se una richiesta PUT Bucket utilizza una regione che non è stata definita in StorageGRID.
* Quando si crea il bucket S3, è necessario utilizzare il nome esatto della regione. I nomi delle regioni rilevano la distinzione tra maiuscole e minuscole. I caratteri validi sono numeri, lettere e trattini.
+

NOTE: EU non è considerato un alias di eu-west-1.  Se si desidera utilizzare la regione EU o eu-west-1, è necessario utilizzare il nome esatto.

* Non è possibile eliminare o modificare una regione se utilizzata in una regola assegnata a qualsiasi criterio (attivo o inattivo).
* Se si utilizza un'area non valida come filtro avanzato in una regola ILM, non è possibile aggiungere tale regola a un criterio.
+
Una regione non valida può verificarsi se si utilizza una regione come filtro avanzato in una regola ILM ma in seguito si elimina tale regione oppure se si utilizza l'API di gestione della griglia per creare una regola e si specifica una regione che non è stata definita.

* Se si elimina una regione dopo averla utilizzata per creare un bucket S3, sarà necessario aggiungerla nuovamente se si desidera utilizzare il filtro avanzato Location Constraint per trovare gli oggetti in tale bucket.


.Fasi
. Selezionare *ILM* > *regioni*.
+
Viene visualizzata la pagina Regioni.

. Selezionare la scheda *Tutte le regioni* o *Regione predefinita*.
+
[role="tabbed-block"]
====
.Tutte le regioni
--
Nella scheda *Tutte le regioni* sono elencate le regioni attualmente definite, inclusa la regione predefinita definita.


NOTE: Non è possibile rimuovere o modificare la regione predefinita nella scheda *Tutte le regioni*.  Utilizzare la scheda *Regione predefinita* per modificare la regione predefinita.

.. Per aggiungere una regione, seleziona *Aggiungi un'altra regione*.
.. Immettere il nome di una regione che si desidera utilizzare durante la creazione dei bucket S3.
+
Quando si crea il bucket S3 corrispondente, è necessario utilizzare il nome esatto della regione come elemento di richiesta LocationConstraint.

.. Per rimuovere una regione inutilizzata, selezionare l'icona di eliminazione image:../media/icon-x-to-remove.png["Icona Remove (Rimuovi)"].
+
Se si tenta di rimuovere una regione attualmente utilizzata in qualsiasi criterio (attivo o inattivo), viene visualizzato un messaggio di errore.

.. Una volta apportate le modifiche, selezionare *Salva*.
+
È ora possibile selezionare queste regioni dalla sezione Advanced filters (filtri avanzati) nel passaggio 1 della creazione guidata regola ILM. Vedere link:create-ilm-rule-enter-details.html#use-advanced-filters-in-ilm-rules["Utilizzare filtri avanzati nelle regole ILM"].



--
.Regione predefinita
--
La scheda *Regione predefinita* visualizza la regione predefinita attualmente definita, che è possibile modificare.

.. Per modificare la regione predefinita, selezionare il nome della regione dalle opzioni disponibili nell'elenco a discesa *Regione predefinita*.
.. Selezionare *Salva*.


--
====

